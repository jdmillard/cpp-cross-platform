# This removes autogenerated CMake, Make, and executable files

# establish build directory path
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
# TODO: this might not resolve simlinks, test on linux/windows

# flag to detect if changes were made by this script
CHANGES=false

# loop over files, deleting auto-generated ones
for NAME in ${DIR}/*; do
    FILE="${NAME##*/}"
    #echo "${FILE}"

    # do not delete the clean scripts
    if [ ${FILE} != "clean.sh" ] && [ ${FILE} != "clean.bat"  ]; then
        rm ${DIR}/${FILE} -fr
        echo "${FILE} has been deleted"
        CHANGES=true
    fi
done

if [ "$CHANGES" = true ]; then
    echo
    echo "build directory is now clean"
else
    echo "build directory is already clean"
fi
